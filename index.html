<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moshe Welcher | Full Stack Developer</title>
    
    <!-- Meta Tags for Link Previews -->
    <meta name="description" content="An aggressive Full Stack Developer building robust applications for the modern web. Explore my interactive developer portfolio.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://moshewelcher.github.io/">
    <meta property="og:title" content="Moshe Welcher | Full Stack Developer">
    <meta property="og:description" content="An aggressive Full Stack Developer building robust applications for the modern web. Explore my interactive developer portfolio.">
    <meta property="og:image" content="https://github.com/moshewelcher.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://moshewelcher.github.io/">
    <meta property="twitter:title" content="Moshe Welcher | Full Stack Developer">
    <meta property="twitter:description" content="An aggressive Full Stack Developer building robust applications for the modern web. Explore my interactive developer portfolio.">
    <meta property="twitter:image" content="https://github.com/moshewelcher.png">
    
    <!-- FAVICON UPDATED: Points to 'new-favicon.png' as requested -->
    <link rel="icon" href="new-favicon.png" type="image/png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        mono: ['"Fira Code"', 'monospace'],
                        sans: ['"Inter"', 'sans-serif'],
                    },
                    colors: {
                        editor: {
                            bg: '#1e1e2e',
                            sidebar: '#181825',
                            active: '#313244',
                            text: '#cdd6f4',
                            comment: '#6c7086',
                            keyword: '#cba6f7',
                            string: '#a6e3a1',
                            func: '#89b4fa',
                            number: '#fab387',
                            class: '#f9e2af'
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #181825; 
        }
        ::-webkit-scrollbar-thumb {
            background: #45475a; 
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #585b70; 
        }

        /* Blinking Cursor */
        .cursor-blink {
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* Line Numbers (Handled via JS now for stability) */
        .code-line {
            display: flex;
            align-items: flex-start;
            line-height: 1.6;
        }
        
        .line-number {
            color: #45475a;
            min-width: 3rem;
            padding-right: 1rem;
            text-align: right;
            user-select: none;
            border-right: 1px solid #313244;
            margin-right: 1rem;
            flex-shrink: 0;
            font-family: 'Fira Code', monospace;
        }

        /* Sidebar Transitions */
        .sidebar-transition {
            transition: width 0.3s ease-in-out;
        }
        
        /* Text hider for collapsed sidebar */
        .sidebar-collapsed .sidebar-text {
            display: none;
        }
        
        .sidebar-collapsed .sidebar-item {
            justify-content: center;
            padding-left: 0;
            padding-right: 0;
        }
        
        .sidebar-collapsed .sidebar-icon {
            margin-right: 0;
            font-size: 1.25rem; 
        }

        /* Fix for centering the toggle button when collapsed */
        /* Added !important to override Tailwind utility classes */
        .sidebar-collapsed .sidebar-header {
            justify-content: center !important;
            padding-left: 0 !important;
            padding-right: 0 !important;
        }
        
        /* Tooltip logic for collapsed state */
        .sidebar-collapsed .sidebar-item:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            background: #1e1e2e;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 50;
            margin-left: 10px;
            border: 1px solid #45475a;
        }

        /* Typewriter Cursor */
        .typewriter-cursor {
            display: inline-block;
            width: 3px; /* Width of the cursor */
            background-color: #cba6f7; /* editor-keyword color */
            animation: blink 1s step-end infinite;
            margin-left: 4px;
            vertical-align: baseline;
            height: 1em; /* Scale with font size */
        }

        /* CHAOS MODE STYLES */
        @keyframes chaos-shake {
            0% { transform: translate(1px, 1px) rotate(0deg); filter: hue-rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); filter: hue-rotate(45deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); filter: hue-rotate(90deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); filter: hue-rotate(135deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); filter: hue-rotate(180deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); filter: hue-rotate(360deg); }
        }

        .chaos-mode {
            font-family: "Comic Sans MS", "Chalkboard SE", "Comic Sans", sans-serif !important;
            animation: chaos-shake 0.5s infinite !important;
            cursor: wait !important;
        }

        .chaos-mode * {
            border: 1px dashed rgba(255, 0, 0, 0.7) !important; /* The developer's nightmare: debug borders everywhere */
            box-sizing: border-box !important;
        }

        /* Mobile Sidebar Shadows */
        @media (max-width: 768px) {
            #main-sidebar.w-64 {
                box-shadow: 4px 0 15px rgba(0,0,0,0.8);
            }
        }

    </style>
</head>
<body id="app-body" class="bg-gray-900 text-editor-text font-sans overflow-hidden h-screen selection:bg-editor-keyword selection:text-editor-bg transition-all duration-500">

    <!-- Main Layout -->
    <div class="flex h-full">

        <!-- Combined Sidebar (Collapsed by Default) -->
        <!-- UPDATED for Mobile: 'absolute' on mobile to act as overlay, 'relative' on desktop -->
        <div id="main-sidebar" class="bg-editor-sidebar flex flex-col border-r border-gray-800 sidebar-transition w-16 sidebar-collapsed absolute md:relative h-full z-50">
            
            <!-- Header / Toggle (Added class sidebar-header for CSS fix) -->
            <div class="h-10 flex items-center justify-between px-4 border-b border-black sidebar-header">
                <span class="text-xs font-bold tracking-wider text-gray-400 uppercase sidebar-text">Explorer</span>
                <button onclick="toggleSidebar()" class="text-gray-500 hover:text-white focus:outline-none p-1 rounded hover:bg-gray-800 transition-colors">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </div>
            
            <!-- Project Folder Header -->
            <div class="px-4 py-2 sidebar-text">
                <div class="flex items-center text-gray-300 text-sm font-bold">
                    <span class="text-editor-func truncate">MOSHE-WELCHER</span>
                </div>
            </div>
            
            <!-- File Tree Navigation -->
            <div class="flex-1 overflow-y-auto py-1 space-y-0.5">
                <!-- Home -->
                <div onclick="switchTab('home')" class="sidebar-item flex items-center text-gray-400 hover:text-white hover:bg-editor-active px-4 py-1.5 cursor-pointer text-sm group relative" data-tooltip="home.tsx">
                    <i class="fa-brands fa-react text-blue-400 mr-2 text-base sidebar-icon w-5 text-center"></i>
                    <span class="sidebar-text group-hover:text-editor-keyword transition-colors">home.tsx</span>
                </div>
                
                <!-- About (Moved Up) -->
                <div onclick="switchTab('about')" class="sidebar-item flex items-center text-gray-400 hover:text-white hover:bg-editor-active px-4 py-1.5 cursor-pointer text-sm group relative" data-tooltip="about-me.md">
                    <i class="fa-brands fa-markdown text-blue-300 mr-2 text-base sidebar-icon w-5 text-center"></i>
                    <span class="sidebar-text group-hover:text-editor-keyword transition-colors">about-me.md</span>
                </div>

                <!-- Projects (Moved Down) -->
                <div onclick="switchTab('projects')" class="sidebar-item flex items-center text-gray-400 hover:text-white hover:bg-editor-active px-4 py-1.5 cursor-pointer text-sm group relative" data-tooltip="projects.json">
                    <i class="fa-solid fa-cubes text-yellow-400 mr-2 text-base sidebar-icon w-5 text-center"></i>
                    <span class="sidebar-text group-hover:text-editor-keyword transition-colors">projects.json</span>
                </div>

                <!-- Stats -->
                <div onclick="switchTab('stats')" class="sidebar-item flex items-center text-gray-400 hover:text-white hover:bg-editor-active px-4 py-1.5 cursor-pointer text-sm group relative" data-tooltip="stats.json">
                    <i class="fa-solid fa-chart-pie text-orange-400 mr-2 text-base sidebar-icon w-5 text-center"></i>
                    <span class="sidebar-text group-hover:text-editor-keyword transition-colors">stats.json</span>
                </div>
            </div>

            <!-- Bottom Actions -->
            <div class="border-t border-gray-800 p-2 space-y-1">
                <a href="https://github.com/moshewelcher" target="_blank" class="sidebar-item flex items-center text-gray-500 hover:text-white hover:bg-editor-active px-2 py-2 rounded cursor-pointer transition-colors relative" data-tooltip="GitHub Profile">
                    <i class="fa-brands fa-github text-xl sidebar-icon w-6 text-center"></i>
                    <span class="sidebar-text ml-3 text-sm">GitHub</span>
                </a>
                <div onclick="toggleFunMode()" class="sidebar-item flex items-center text-gray-500 hover:text-white hover:bg-editor-active px-2 py-2 rounded cursor-pointer transition-colors relative" data-tooltip="Settings">
                    <i class="fa-solid fa-gear text-xl sidebar-icon w-6 text-center"></i>
                    <span class="sidebar-text ml-3 text-sm">Settings</span>
                </div>
            </div>
        </div>

        <!-- Editor Area -->
        <!-- UPDATED: Added pl-16 for mobile padding so content isn't hidden behind fixed sidebar -->
        <div class="flex-1 flex flex-col bg-editor-bg relative overflow-hidden pl-16 md:pl-0 w-full">
            
            <!-- Tabs Bar -->
            <div class="h-10 bg-editor-sidebar flex items-center overflow-x-auto no-scrollbar border-b border-black">
                <div onclick="switchTab('home')" id="tab-home" class="tab active-tab px-4 h-full flex items-center space-x-2 text-sm border-t-2 border-editor-keyword bg-editor-bg cursor-pointer min-w-fit">
                    <i class="fa-brands fa-react text-blue-400 text-xs"></i>
                    <span>home.tsx</span>
                    <i class="fa-solid fa-xmark text-xs ml-2 hover:text-white text-gray-500"></i>
                </div>
                <div onclick="switchTab('about')" id="tab-about" class="tab px-4 h-full flex items-center space-x-2 text-sm border-t-2 border-transparent text-gray-500 hover:bg-editor-active cursor-pointer min-w-fit">
                    <i class="fa-brands fa-markdown text-blue-300 text-xs"></i>
                    <span>about-me.md</span>
                </div>
                <div onclick="switchTab('projects')" id="tab-projects" class="tab px-4 h-full flex items-center space-x-2 text-sm border-t-2 border-transparent text-gray-500 hover:bg-editor-active cursor-pointer min-w-fit">
                    <i class="fa-solid fa-cubes text-yellow-400 text-xs"></i>
                    <span>projects.json</span>
                </div>
                <div onclick="switchTab('stats')" id="tab-stats" class="tab px-4 h-full flex items-center space-x-2 text-sm border-t-2 border-transparent text-gray-500 hover:bg-editor-active cursor-pointer min-w-fit">
                    <i class="fa-solid fa-chart-pie text-orange-400 text-xs"></i>
                    <span>stats.json</span>
                </div>
            </div>

            <!-- Breadcrumbs -->
            <div class="h-6 bg-editor-bg flex items-center px-4 text-xs text-gray-500 border-b border-gray-800">
                <span>moshe-welcher</span>
                <i class="fa-solid fa-chevron-right text-[10px] mx-2"></i>
                <span>src</span>
                <i class="fa-solid fa-chevron-right text-[10px] mx-2"></i>
                <span id="breadcrumb-file" class="text-gray-300">home.tsx</span>
            </div>
            
            <!-- Global Notification Area (Used by Settings/Chaos Mode) -->
            <div id="status-message" class="hidden z-50 transition-all duration-300 font-bold pointer-events-none"></div>

            <!-- Main Content Area -->
            <div class="flex-1 overflow-y-auto relative font-mono text-sm md:text-base py-4 scroll-smooth" id="content-area">
                
                <!-- HOME PAGE -->
                <div id="page-home" class="page-content fade-in max-w-5xl">
                    <div class="code-line"><span class="text-editor-comment">// Welcome to my interactive portfolio.</span></div>
                    <div class="code-line"><span class="text-editor-comment">// Feel free to look around the source files.</span></div>
                    <div class="code-line">&nbsp;</div>
                    
                    <div class="code-line">
                        <span class="text-editor-keyword mr-2">const</span>
                        <span class="text-editor-func mr-2">Moshe</span>
                        <span class="text-editor-text mr-2">=</span>
                        <span class="text-editor-keyword">()</span>
                        <span class="text-editor-keyword mx-2">=&gt;</span>
                        <span class="text-yellow-300">{</span>
                    </div>

                    <div class="code-line">
                        <div class="pl-8">
                            <span class="text-editor-keyword mr-2">return</span>
                            <span class="text-gray-400">(</span>
                        </div>
                    </div>

                    <div class="code-line">
                        <div class="pl-12 border-l-2 border-gray-800 ml-4 my-2 w-full pr-4">
                            <!-- Animated Heading -->
                            <h1 id="typing-title" class="text-4xl md:text-6xl font-bold text-white mb-4 font-sans tracking-tight min-h-[1.5em]">
                                <!-- Content injected by JS -->
                            </h1>
                            
                            <p class="text-xl text-gray-400 mb-6 font-sans max-w-2xl">
                                An aggressive <span class="text-editor-string">Full Stack Developer</span> building robust applications for the modern web.
                            </p>
                            
                            <div class="flex flex-wrap gap-4 mt-6 font-sans">
                                <button onclick="switchTab('projects')" class="px-6 py-3 bg-editor-func text-black font-bold rounded hover:bg-blue-300 transition-all transform hover:scale-105 shadow-lg shadow-blue-500/20">
                                    View Projects
                                </button>
                                <button onclick="switchTab('stats')" class="px-6 py-3 border border-editor-keyword text-editor-keyword font-bold rounded hover:bg-editor-keyword hover:text-black transition-all">
                                    View Stats
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="code-line">
                        <div class="pl-8">
                            <span class="text-gray-400">)</span>
                            <span class="text-gray-500">;</span>
                        </div>
                    </div>
                    <div class="code-line text-yellow-300">}</div>
                    <div class="code-line">&nbsp;</div>
                    <div class="code-line">
                        <span class="text-editor-keyword">export default</span>
                        <span class="text-editor-func ml-2">Moshe</span>
                        <span class="text-gray-500">;</span>
                    </div>

                    <!-- Stats Grid -->
                     <div class="code-line mt-8">
                        <div class="w-full px-4">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 font-sans">
                                <div class="bg-editor-active p-6 rounded-lg border border-gray-700 hover:border-editor-keyword transition-colors group">
                                    <i class="fa-solid fa-code text-3xl text-editor-string mb-4 group-hover:scale-110 transition-transform block"></i>
                                    <h3 class="text-lg font-bold text-white">Clean Code</h3>
                                    <p class="text-gray-400 text-sm mt-2">Writing maintainable, scalable, and efficient software solutions.</p>
                                </div>
                                <div class="bg-editor-active p-6 rounded-lg border border-gray-700 hover:border-editor-keyword transition-colors group">
                                    <i class="fa-solid fa-server text-3xl text-editor-number mb-4 group-hover:scale-110 transition-transform block"></i>
                                    <h3 class="text-lg font-bold text-white">Backend</h3>
                                    <p class="text-gray-400 text-sm mt-2">Robust APIs, database design, and server-side architecture.</p>
                                </div>
                                <div class="bg-editor-active p-6 rounded-lg border border-gray-700 hover:border-editor-keyword transition-colors group">
                                    <i class="fa-solid fa-book-open text-3xl text-editor-func mb-4 group-hover:scale-110 transition-transform block"></i>
                                    <h3 class="text-lg font-bold text-white">Continuous Learning</h3>
                                    <p class="text-gray-400 text-sm mt-2">Always exploring new technologies and methodologies.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PROJECTS PAGE -->
                <div id="page-projects" class="page-content hidden max-w-5xl">
                    <div class="code-line mb-6">
                        <span class="text-editor-keyword">const</span>
                        <span class="text-editor-class ml-2">projects</span>
                        <span class="text-editor-text mx-2">=</span>
                        <span class="text-yellow-300">[</span>
                    </div>

                    <!-- Projects Grid -->
                    <div class="code-line">
                         <div class="pl-4 w-full pr-4">
                            <!-- Dynamic Container -->
                            <div id="projects-container" class="grid grid-cols-1 md:grid-cols-2 gap-6 font-sans">
                                <!-- Loading State -->
                                <div class="col-span-full text-gray-500 italic">
                                    <i class="fa-solid fa-circle-notch fa-spin mr-2"></i>
                                    Fetching data from GitHub API...
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="code-line mt-6">
                        <span class="text-yellow-300">]</span>
                        <span class="text-gray-500">;</span>
                    </div>
                </div>

                <!-- ABOUT PAGE -->
                <div id="page-about" class="page-content hidden max-w-5xl">
                    <div class="code-line"><span class="text-editor-comment">// about-me.md</span></div>
                    
                    <div class="code-line">
                        <div class="w-full px-4 pt-4">
                            
                            <!-- Terminal "Neofetch" Style Intro -->
                            <div class="bg-black/30 rounded-lg border border-gray-800 p-4 mb-8 font-mono text-sm shadow-lg">
                                <div class="flex items-center gap-2 mb-4 border-b border-gray-800 pb-2">
                                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                                    <span class="ml-2 text-gray-500 text-xs">moshe@portfolio:~</span>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-[auto_1fr] gap-6">
                                    <div class="hidden md:block text-editor-func">
                                       <pre class="leading-tight">
   __  __
  |  \/  |
  | \  / |
  | |\/| |
  | |  | |
  |_|  |_|
                                       </pre>
                                    </div>
                                    <div class="space-y-1">
                                        <div><span class="text-editor-keyword">user</span>@<span class="text-editor-string">moshe-pc</span></div>
                                        <div>----------------</div>
                                        <div><span class="text-editor-func">OS</span>: Full Stack Web</div>
                                        <div><span class="text-editor-func">Shell</span>: ZSH / Bash</div>
                                        <div><span class="text-editor-func">Location</span>: United States</div>
                                        <div><span class="text-editor-func">Origin</span>: Raspberry Pi 2 Model B</div>
                                        <div><span class="text-editor-func">Language</span>: Python, JS, GAS</div>
                                        <div><span class="text-editor-func">Uptime</span>: 24/6</div>
                                    </div>
                                </div>
                            </div>

                            <div class="prose prose-invert max-w-none font-sans mb-10">
                                <h2 class="text-2xl text-white font-bold mb-4 flex items-center">
                                    <span class="text-editor-keyword mr-2">#</span> Bio
                                </h2>
                                <p class="text-gray-300 mb-6 leading-relaxed border-l-4 border-editor-keyword pl-4 bg-editor-active/30 py-2 rounded-r">
                                    Hello! I'm <span class="text-white font-bold">Moshe Welcher</span>, a developer based in the US. I have always been interested in programming. My journey started when I began programming Python on a Raspberry Pi 2 Model B, which sparked my deep interest in building robust and scalable software solutions.
                                </p>
                            </div>
                                
                            <h3 class="text-xl text-white font-bold mb-4 flex items-center font-sans">
                                <span class="text-editor-keyword mr-2">##</span> Tech Stack
                            </h3>
                            <div class="flex flex-wrap gap-3 mb-8 items-center">
                                <img src="https://img.shields.io/badge/JAVASCRIPT-323330?style=for-the-badge&logo=javascript&logoColor=F7DF1E" alt="JavaScript" class="h-7">
                                
                                <!-- Custom Badge for Google Apps Script -->
                                <img src="https://img.shields.io/badge/Google%20Apps%20Script-4285F4?style=for-the-badge&logo=googleappsscript&logoColor=white" alt="Google Apps Script" class="h-7">
                                
                                <img src="https://img.shields.io/badge/PYTHON-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python" class="h-7">
                                <img src="https://img.shields.io/badge/NODE.JS-339933?style=for-the-badge&logo=node.js&logoColor=white" alt="Node.js" class="h-7">
                                
                                <!-- Custom CSS Badge for JTech to match Shield Style -->
                                <div class="inline-flex items-center bg-[#353535] h-[28px] px-3 rounded-none select-none">
                                    <img src="https://forums.jtechforums.org/uploads/default/optimized/2X/5/5890c40c648110080e2692cac43e2f0e715fe885_2_180x180.png" alt="JTech Logo" class="w-4 h-4 mr-2 object-contain">
                                    <span class="text-white text-[11px] font-bold uppercase tracking-widest font-sans">JTECH</span>
                                </div>

                                <img src="https://img.shields.io/badge/VS_CODE-0078D4?style=for-the-badge&logo=visual%20studio%20code&logoColor=white" alt="VS Code" class="h-7">
                                
                                <!-- Custom CSS Badge for Google AI Studio to match Shield Style -->
                                <div class="inline-flex items-center bg-[#8E75B2] h-[28px] px-3 rounded-none select-none">
                                    <i class="fa-solid fa-wand-magic-sparkles text-white mr-2 text-sm"></i>
                                    <span class="text-white text-[11px] font-bold uppercase tracking-widest font-sans">GOOGLE AI STUDIO</span>
                                </div>

                                <img src="https://img.shields.io/badge/GIT-E44C30?style=for-the-badge&logo=git&logoColor=white" alt="Git" class="h-7">
                                
                                <!-- New Additions -->
                                <img src="https://img.shields.io/badge/BASH-4EAA25?style=for-the-badge&logo=gnu-bash&logoColor=white" alt="Bash" class="h-7">
                                <img src="https://img.shields.io/badge/RASPBERRY_PI-C51A4A?style=for-the-badge&logo=raspberry-pi&logoColor=white" alt="Raspberry Pi" class="h-7">
                                <img src="https://img.shields.io/badge/UBUNTU-E95420?style=for-the-badge&logo=ubuntu&logoColor=white" alt="Ubuntu" class="h-7">
                            </div>

                            <!-- Core Focus Grid -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-10 font-sans">
                                <div class="bg-editor-sidebar border border-gray-800 p-5 rounded hover:border-editor-string transition-colors">
                                    <i class="fa-solid fa-server text-editor-string text-2xl mb-3"></i>
                                    <h3 class="font-bold text-white mb-1">Backend Dev</h3>
                                    <p class="text-xs text-gray-500">Building scalable server-side logic and APIs using Node.js & Python.</p>
                                </div>
                                <div class="bg-editor-sidebar border border-gray-800 p-5 rounded hover:border-editor-func transition-colors">
                                    <i class="fa-solid fa-robot text-editor-func text-2xl mb-3"></i>
                                    <h3 class="font-bold text-white mb-1">Automation</h3>
                                    <p class="text-xs text-gray-500">Streamlining workflows and connecting services with Google Apps Script.</p>
                                </div>
                                <div class="bg-editor-sidebar border border-gray-800 p-5 rounded hover:border-editor-keyword transition-colors">
                                    <i class="fa-solid fa-layer-group text-editor-keyword text-2xl mb-3"></i>
                                    <h3 class="font-bold text-white mb-1">Architecture</h3>
                                    <p class="text-xs text-gray-500">Designing clean, maintainable code structures for complex applications.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- STATS PAGE (Replaced Contact) -->
                <div id="page-stats" class="page-content hidden max-w-6xl">
                    <div class="code-line mb-6">
                        <span class="text-editor-keyword">const</span>
                        <span class="text-editor-func ml-2">githubStats</span>
                        <span class="text-editor-text mx-2">=</span>
                        <span class="text-yellow-300">{</span>
                    </div>
                    
                    <div class="code-line">
                         <div class="pl-4 md:pl-8 w-full font-sans pr-4">
                            <!-- GitHub Stats & Languages - Styled to match theme -->
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 items-start">
                                
                                <!-- Left Column: General + Languages -->
                                <div class="flex flex-col gap-4">
                                    <div class="bg-editor-active/50 rounded-lg border border-gray-700 p-2 hover:border-editor-func transition-colors flex items-center justify-center">
                                        <img src="https://github-readme-stats.vercel.app/api?username=MosheWelcher&show_icons=true&theme=radical&hide_border=true&bg_color=1e1e2e&title_color=cba6f7&icon_color=f9e2af&text_color=cdd6f4" 
                                             alt="Moshe's GitHub Stats" class="max-w-full h-auto">
                                    </div>
                                    
                                    <div class="bg-editor-active/50 rounded-lg border border-gray-700 p-2 hover:border-editor-func transition-colors flex items-center justify-center">
                                        <img src="https://github-readme-stats.vercel.app/api/top-langs/?username=MosheWelcher&layout=compact&theme=radical&hide_border=true&bg_color=1e1e2e&title_color=cba6f7&text_color=cdd6f4" 
                                             alt="Moshe's Top Languages" class="max-w-full h-auto">
                                    </div>
                                </div>

                                <!-- Right Column: Streak + Graph -->
                                <div class="flex flex-col gap-4">
                                    <div class="bg-editor-active/50 rounded-lg border border-gray-700 p-2 hover:border-editor-func transition-colors flex items-center justify-center">
                                        <img src="https://github-readme-streak-stats.herokuapp.com/?user=MosheWelcher&theme=radical&hide_border=true&background=1e1e2e&ring=cba6f7&currStreakNum=cdd6f4&currStreakLabel=cba6f7&sideNums=cdd6f4&sideLabels=cba6f7&dates=a6e3a1&fire=fab387" 
                                             alt="Moshe's GitHub Streak" class="max-w-full h-auto">
                                    </div>

                                    <div class="bg-editor-active/50 rounded-lg border border-gray-700 p-2 hover:border-editor-func transition-colors flex items-center justify-center">
                                        <img src="https://github-readme-activity-graph.vercel.app/graph?username=MosheWelcher&bg_color=1e1e2e&color=cba6f7&line=cba6f7&point=cdd6f4&area=true&hide_border=true" 
                                             alt="Moshe's Contribution Graph" class="max-w-full h-auto">
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>

                    <div class="code-line mt-6">
                        <span class="text-yellow-300">}</span><span class="text-gray-500">;</span>
                    </div>
                </div>

            </div>

            <!-- Status Bar -->
            <div class="h-6 bg-editor-keyword text-black flex items-center justify-between px-4 text-xs font-bold select-none z-20">
                <div class="flex items-center space-x-4">
                    <span class="flex items-center"><i class="fa-solid fa-code-branch mr-1"></i> main*</span>
                    <span class="flex items-center"><i class="fa-regular fa-circle-xmark mr-1"></i> 0 Errors</span>
                    <span class="flex items-center"><i class="fa-solid fa-triangle-exclamation mr-1"></i> 0 Warnings</span>
                </div>
                <div class="flex items-center space-x-4 hidden md:flex">
                    <span>Ln 12, Col 45</span>
                    <span>UTF-8</span>
                    <span>JavaScript React</span>
                    <span class="flex items-center"><i class="fa-solid fa-bell ml-1"></i></span>
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- CONFIGURATION ---
        
        // Utility to display in-app status messages
        function showCustomAlert(message, isLarge = false) {
            const statusArea = document.getElementById('status-message');
            if (statusArea) {
                statusArea.textContent = message;
                
                // Reset base classes (remove positioning/sizing/colors)
                statusArea.className = 'hidden fixed left-1/2 -translate-x-1/2 rounded shadow-lg font-bold z-50 transition-all duration-300 pointer-events-none';

                if (isLarge) {
                    // Large Centered
                    statusArea.classList.add('top-1/2', '-translate-y-1/2', 'text-5xl', 'p-10', 'border-4', 'shadow-2xl', 'text-center');
                } else {
                    // Normal Top Toast
                    statusArea.classList.add('top-4', 'text-xs', 'px-4', 'py-2', 'border');
                }
                
                // Color Theme (Default)
                statusArea.classList.add('bg-editor-string/90', 'text-black', 'border-editor-string');

                // Trigger Animation
                statusArea.classList.remove('hidden');
                // Small timeout to allow display:block to apply before opacity transition
                requestAnimationFrame(() => {
                    statusArea.style.opacity = '1';
                    statusArea.style.transform = isLarge 
                        ? 'translate(-50%, -50%) scale(1)' 
                        : 'translate(-50%, 0) scale(1)';
                });

                setTimeout(() => {
                    statusArea.style.opacity = '0';
                    // Optional: scale down on exit
                    setTimeout(() => statusArea.classList.add('hidden'), 300);
                }, 2500);
            }
        }

        // --- GLOBAL FUNCTIONS EXPLICITLY DEFINED FOR INLINE HANDLERS ---
        
        // Funny Mode Toggler
        let isFunMode = false;
        window.toggleFunMode = function() {
            isFunMode = !isFunMode;
            const body = document.getElementById('app-body');
            if (isFunMode) {
                body.classList.add('chaos-mode');
                showCustomAlert("⚠️ TOTAL CHAOS MODE ACTIVATED! ⚠️", true);
            } else {
                body.classList.remove('chaos-mode');
                // Reset style properties in case they stuck
                body.style.fontFamily = '';
                body.style.transform = '';
                body.style.filter = '';
                showCustomAlert("Phew! Back to safe mode.", true); 
            }
        }

        // Toggle Sidebar (Combined Functionality)
        window.toggleSidebar = function() {
            const sidebar = document.getElementById('main-sidebar');
            
            if (sidebar.classList.contains('w-64')) {
                // Collapse
                sidebar.classList.remove('w-64');
                sidebar.classList.add('w-16', 'sidebar-collapsed');
            } else {
                // Expand
                sidebar.classList.remove('w-16', 'sidebar-collapsed');
                sidebar.classList.add('w-64');
            }
        }

        // Tab Switching Logic (Called by onclick)
        window.switchTab = function(tabId) {
            // Hide all contents
            document.querySelectorAll('.page-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // Show specific content
            const content = document.getElementById(`page-${tabId}`);
            content.classList.remove('hidden');
            
            // Recalculate line numbers when switching tabs (forces refresh)
            updateLineNumbers(content);

            // Animate content opacity
            content.style.opacity = '0';
            setTimeout(() => content.style.opacity = '1', 50);
            
            // Re-run typing animation if switching to home
            if (tabId === 'home') {
                const titleElement = document.getElementById('typing-title');
                if (titleElement) {
                    titleElement.removeAttribute('data-typed');
                    runTypingEffect();
                }
            }

            // Reset all tabs styling
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active-tab', 'bg-editor-bg', 'border-editor-keyword', 'text-white');
                tab.classList.add('border-transparent', 'text-gray-500');
            });
            
            // Style active tab
            const activeTab = document.getElementById(`tab-${tabId}`);
            activeTab.classList.remove('border-transparent', 'text-gray-500');
            activeTab.classList.add('active-tab', 'bg-editor-bg', 'border-editor-keyword', 'text-white');
            
            // Update Breadcrumbs
            const fileExtensions = {
                'home': 'home.tsx',
                'projects': 'projects.json',
                'about': 'about-me.md',
                'stats': 'stats.json'
            };
            document.getElementById('breadcrumb-file').innerText = fileExtensions[tabId];
        }
        
        // --- GitHub API Logic (Helpers) ---

        // Exponential backoff for retries
        async function fetchWithBackoff(url, options, maxRetries = 5) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.status !== 429) { // Not a rate limit error, proceed
                        return response;
                    }
                } catch (error) {
                    console.error("Fetch attempt failed:", error);
                }

                // If rate limited or failed, wait and retry
                const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                await new Promise(resolve => setTimeout(resolve, delay));
            }
            throw new Error("API call failed after multiple retries due to throttling or network error.");
        }


        // Fetch GitHub Projects
        async function loadGitHubProjects() {
            const username = 'MosheWelcher';
            const container = document.getElementById('projects-container');
            
            try {
                // Fetch repos sorted by update date
                const response = await fetchWithBackoff(`https://api.github.com/users/${username}/repos?sort=updated&direction=desc`);
                if (!response.ok) throw new Error('GitHub API limit exceeded or error');
                
                let repos = await response.json();
                
                // Filter: Remove forks if you want, or keep them. Taking top 6 most recently updated.
                // repos = repos.filter(repo => !repo.fork); 
                const displayRepos = repos.slice(0, 6);

                const html = displayRepos.map(repo => {
                    const langColor = repo.language === 'JavaScript' ? 'text-yellow-300' : 
                                      repo.language === 'Python' ? 'text-blue-300' : 
                                      repo.language === 'HTML' ? 'text-orange-400' : 'text-gray-300';

                    return `
                    <div class="bg-editor-active rounded-lg border border-gray-700 overflow-hidden hover:border-editor-string transition-all hover:-translate-y-1 group flex flex-col">
                        <div class="h-2 bg-editor-string w-full"></div>
                        <div class="p-6 flex-1 flex flex-col">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="text-xl font-bold text-white group-hover:text-editor-string transition-colors truncate pr-2" title="${repo.name}">
                                    ${repo.name}
                                </h3>
                                <div class="flex space-x-3 text-gray-400 flex-shrink-0">
                                    <a href="${repo.html_url}" target="_blank" class="hover:text-white transition-colors"><i class="fa-brands fa-github text-lg"></i></a>
                                    ${repo.homepage ? `<a href="${repo.homepage}" target="_blank" class="hover:text-white transition-colors"><i class="fa-solid fa-up-right-from-square text-lg"></i></a>` : ''}
                                </div>
                            </div>
                            <p class="text-gray-400 text-sm mb-4 line-clamp-3 flex-1">
                                ${repo.description || 'No description provided.'}
                            </p>
                            <div class="flex flex-wrap gap-2 mt-auto">
                                ${repo.language ? `<span class="px-2 py-1 bg-gray-800 ${langColor} text-xs rounded border border-gray-700">${repo.language}</span>` : ''}
                                <span class="px-2 py-1 bg-gray-800 text-gray-400 text-xs rounded border border-gray-700 flex items-center">
                                    <i class="fa-regular fa-star mr-1.5 text-yellow-500"></i>${repo.stargazers_count}
                                </span>
                                <span class="px-2 py-1 bg-gray-800 text-gray-400 text-xs rounded border border-gray-700 flex items-center">
                                    <i class="fa-solid fa-code-branch mr-1.5"></i>${repo.forks_count}
                                </span>
                            </div>
                        </div>
                    </div>
                    `;
                }).join('');
                
                container.innerHTML = html;

            } catch (error) {
                container.innerHTML = `
                    <div class="col-span-full text-red-400 font-mono p-4 border border-red-900 bg-red-900/20 rounded">
                        // Error fetching GitHub data<br>
                        console.error("${error.message}");
                    </div>
                `;
            }
        }

        // Line Number Fixer
        function updateLineNumbers(container) {
            const lines = container.querySelectorAll('.code-line');
            lines.forEach((line, index) => {
                // Check if line number already exists
                let numSpan = line.querySelector('.line-number');
                if (!numSpan) {
                    numSpan = document.createElement('div');
                    numSpan.className = 'line-number';
                    line.prepend(numSpan);
                }
                numSpan.textContent = index + 1;
            });
        }

        // Typing Animation Logic
        async function runTypingEffect() {
            const titleElement = document.getElementById('typing-title');
            if (!titleElement || titleElement.hasAttribute('data-typed')) return;
            
            titleElement.setAttribute('data-typed', 'true');
            titleElement.innerHTML = ''; // Clear initial content
            
            const segments = [
                { text: "Hello, I'm ", className: "text-white" },
                { text: "Moshe", className: "text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600" },
                { text: ".", className: "text-white" }
            ];

            // Create cursor
            const cursor = document.createElement('span');
            cursor.className = 'typewriter-cursor';
            titleElement.appendChild(cursor);

            for (const segment of segments) {
                const span = document.createElement('span');
                if (segment.className) span.className = segment.className;
                titleElement.insertBefore(span, cursor);
                
                for (const char of segment.text) {
                    span.textContent += char;
                    await new Promise(r => setTimeout(r, 100 + Math.random() * 50));
                }
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Add fade-in transition styles dynamically
            const style = document.createElement('style');
            style.innerHTML = `
                .page-content { transition: opacity 0.3s ease-in-out; }
                .active-tab { border-top-color: #cba6f7 !important; color: #cdd6f4 !important; background-color: #1e1e2e; }
            `;
            document.head.appendChild(style);
            
            // Run initial line number calculation for all pages
            document.querySelectorAll('.page-content').forEach(updateLineNumbers);

            // Initial Render
            switchTab('home');
            
            // Start Typing Animation
            runTypingEffect();

            // Load Projects
            loadGitHubProjects();
        });
    </script>
</body>
</html>
